# Chat Juicer - Production Environment
# Copy to .env.production and fill in production values
#
# CRITICAL: The following settings are validated in production:
# - JWT_SECRET must be changed from default
# - ALLOW_LOCALHOST_NOAUTH must be false
# - Failure to set these will cause startup errors

# Environment
APP_ENV=production
DEBUG=false
CONFIG_HOT_RELOAD=false

# ====================================
# Required: API Configuration
# ====================================
API_PROVIDER=azure
AZURE_OPENAI_API_KEY=your-production-api-key
AZURE_OPENAI_ENDPOINT=https://your-production-resource.openai.azure.com/

# ====================================
# Required: Database
# ====================================
# Use a managed PostgreSQL service in production
DATABASE_URL=postgresql://user:password@host:5432/chatjuicer

# Production pool sizing (adjust based on expected load)
DB_POOL_MIN_SIZE=5
DB_POOL_MAX_SIZE=20
MCP_POOL_SIZE=5

# ====================================
# Required: Security
# ====================================
# Generate a secure random secret: openssl rand -hex 32
JWT_SECRET=your-secure-random-secret-minimum-32-chars
ALLOW_LOCALHOST_NOAUTH=false

# Shorter token lifetimes for production
ACCESS_TOKEN_EXPIRES_MINUTES=10
REFRESH_TOKEN_EXPIRES_DAYS=1

# ====================================
# Optional: File Storage
# ====================================
# Use S3 for production file storage
FILE_STORAGE=s3
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# S3_BUCKET=your-bucket-name
# S3_REGION=us-east-1

# ====================================
# Optional: MCP Servers
# ====================================
# TAVILY_API_KEY=your-tavily-api-key

# ====================================
# Graceful Shutdown
# ====================================
SHUTDOWN_TIMEOUT=60.0
SHUTDOWN_CONNECTION_DRAIN_TIMEOUT=30.0
